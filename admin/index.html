<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Git Memory MCP Server - Admin Dashboard</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/date-fns@2.29.0/index.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: #333;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 30px;
            margin-bottom: 30px;
            text-align: center;
            color: white;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
        }

        .header h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
        }

        .header p {
            font-size: 1.1rem;
            opacity: 0.9;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .stat-card {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .stat-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 12px 40px rgba(0, 0, 0, 0.15);
        }

        .stat-card h3 {
            font-size: 0.9rem;
            text-transform: uppercase;
            letter-spacing: 1px;
            color: #666;
            margin-bottom: 10px;
        }

        .stat-value {
            font-size: 2.5rem;
            font-weight: bold;
            color: #333;
            margin-bottom: 5px;
        }

        .stat-label {
            color: #666;
            font-size: 0.9rem;
        }

        .stat-trend {
            font-size: 0.8rem;
            margin-top: 10px;
        }

        .trend-up {
            color: #28a745;
        }

        .trend-down {
            color: #dc3545;
        }

        .charts-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .chart-container {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
        }

        .chart-container h3 {
            margin-bottom: 20px;
            color: #333;
            text-align: center;
        }

        .controls-section {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 30px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
        }

        .control-group {
            margin-bottom: 20px;
        }

        .control-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #333;
        }

        .control-group input,
        .control-group select,
        .control-group textarea {
            width: 100%;
            padding: 12px;
            border: 2px solid #e1e5e9;
            border-radius: 8px;
            font-size: 14px;
            transition: border-color 0.3s ease;
        }

        .control-group input:focus,
        .control-group select:focus,
        .control-group textarea:focus {
            outline: none;
            border-color: #667eea;
        }

        .button-group {
            display: flex;
            gap: 10px;
            margin-top: 20px;
        }

        .btn {
            padding: 12px 24px;
            border: none;
            border-radius: 8px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-block;
            text-align: center;
        }

        .btn-primary {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(102, 126, 234, 0.3);
        }

        .btn-secondary {
            background: #6c757d;
            color: white;
        }

        .btn-secondary:hover {
            background: #5a6268;
        }

        .btn-danger {
            background: #dc3545;
            color: white;
        }

        .btn-danger:hover {
            background: #c82333;
        }

        .logs-section {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
        }

        .logs-container {
            background: #1e1e1e;
            border-radius: 8px;
            padding: 15px;
            font-family: 'Courier New', monospace;
            font-size: 12px;
            color: #fff;
            max-height: 400px;
            overflow-y: auto;
            white-space: pre-wrap;
        }

        .log-entry {
            margin-bottom: 5px;
            padding: 2px 0;
        }

        .log-info {
            color: #4fc3f7;
        }

        .log-warn {
            color: #ffb74d;
        }

        .log-error {
            color: #f48fb1;
        }

        .log-debug {
            color: #81c784;
        }

        .status-indicator {
            display: inline-block;
            width: 12px;
            height: 12px;
            border-radius: 50%;
            margin-right: 8px;
        }

        .status-healthy {
            background: #4caf50;
        }

        .status-warning {
            background: #ff9800;
        }

        .status-error {
            background: #f44336;
        }

        .metric-badge {
            background: rgba(102, 126, 234, 0.1);
            color: #667eea;
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 0.8rem;
            font-weight: 600;
        }

        .loading {
            text-align: center;
            padding: 40px;
            color: #666;
        }

        .spinner {
            border: 4px solid #f3f3f3;
            border-top: 4px solid #667eea;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
            margin: 0 auto 20px;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        @media (max-width: 768px) {
            .container {
                padding: 15px;
            }

            .header h1 {
                font-size: 2rem;
            }

            .stats-grid {
                grid-template-columns: 1fr;
            }

            .charts-grid {
                grid-template-columns: 1fr;
            }

            .button-group {
                flex-direction: column;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <div class="header">
            <h1>üöÄ Git Memory MCP Server</h1>
            <p>Enterprise-Grade Admin Dashboard</p>
            <div style="margin-top: 15px;">
                <span class="status-indicator status-healthy"></span>
                <span id="server-status">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠...</span>
                <span class="metric-badge" id="uptime">Uptime: -</span>
            </div>
        </div>

        <!-- Stats Cards -->
        <div class="stats-grid">
            <div class="stat-card">
                <h3>Active Connections</h3>
                <div class="stat-value" id="active-connections">-</div>
                <div class="stat-label">WebSocket & HTTP</div>
                <div class="stat-trend trend-up" id="connections-trend">‚Üó +5 from last hour</div>
            </div>

            <div class="stat-card">
                <h3>Requests/Second</h3>
                <div class="stat-value" id="requests-per-second">-</div>
                <div class="stat-label">Average throughput</div>
                <div class="stat-trend trend-up" id="rps-trend">‚Üó +12% from yesterday</div>
            </div>

            <div class="stat-card">
                <h3>Cache Hit Rate</h3>
                <div class="stat-value" id="cache-hit-rate">-</div>
                <div class="stat-label">Multi-level cache</div>
                <div class="stat-trend trend-up" id="cache-trend">‚Üó 98.5% efficient</div>
            </div>

            <div class="stat-card">
                <h3>Memory Usage</h3>
                <div class="stat-value" id="memory-usage">-</div>
                <div class="stat-label">System memory</div>
                <div class="stat-trend trend-down" id="memory-trend">‚Üò 245 MB used</div>
            </div>

            <div class="stat-card">
                <h3>Error Rate</h3>
                <div class="stat-value" id="error-rate">-</div>
                <div class="stat-label">Last 24 hours</div>
                <div class="stat-trend trend-down" id="error-trend">‚Üò 0.02% errors</div>
            </div>

            <div class="stat-card">
                <h3>Response Time</h3>
                <div class="stat-value" id="avg-response-time">-</div>
                <div class="stat-label">Average latency</div>
                <div class="stat-trend trend-down" id="response-trend">‚Üò 45ms avg</div>
            </div>
        </div>

        <!-- Charts Section -->
        <div class="charts-grid">
            <div class="chart-container">
                <h3>üìä Real-time Performance</h3>
                <canvas id="performance-chart" width="400" height="200"></canvas>
            </div>

            <div class="chart-container">
                <h3>üîó Connection Trends</h3>
                <canvas id="connections-chart" width="400" height="200"></canvas>
            </div>

            <div class="chart-container">
                <h3>üíæ Cache Performance</h3>
                <canvas id="cache-chart" width="400" height="200"></canvas>
            </div>

            <div class="chart-container">
                <h3>‚ö° Load Balancing</h3>
                <canvas id="load-balancing-chart" width="400" height="200"></canvas>
            </div>
        </div>

        <!-- Controls Section -->
        <div class="controls-section">
            <h3 style="margin-bottom: 25px; color: #333;">‚öôÔ∏è Server Management</h3>

            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px;">
                <div class="control-group">
                    <label for="log-level">Log Level</label>
                    <select id="log-level">
                        <option value="debug">Debug</option>
                        <option value="info" selected>Info</option>
                        <option value="warn">Warning</option>
                        <option value="error">Error</option>
                    </select>
                </div>

                <div class="control-group">
                    <label for="rate-limit">Rate Limit (req/min)</label>
                    <input type="number" id="rate-limit" value="1000" min="100" max="10000">
                </div>

                <div class="control-group">
                    <label for="cache-ttl">Cache TTL (seconds)</label>
                    <input type="number" id="cache-ttl" value="300" min="60" max="3600">
                </div>

                <div class="control-group">
                    <label for="max-connections">Max Connections</label>
                    <input type="number" id="max-connections" value="3000" min="1000" max="10000">
                </div>
            </div>

            <div class="button-group">
                <button class="btn btn-primary" onclick="applyConfiguration()">Apply Changes</button>
                <button class="btn btn-secondary" onclick="refreshMetrics()">Refresh Metrics</button>
                <button class="btn btn-secondary" onclick="exportMetrics()">Export Data</button>
                <button class="btn btn-danger" onclick="restartServer()">Restart Server</button>
            </div>
        </div>

        <!-- Real-time Logs -->
        <div class="logs-section">
            <h3 style="margin-bottom: 20px; color: #333;">üìã Real-time Logs</h3>
            <div class="button-group" style="margin-bottom: 15px;">
                <button class="btn btn-secondary" onclick="clearLogs()">Clear Logs</button>
                <button class="btn btn-secondary" onclick="toggleAutoScroll()">Auto Scroll</button>
                <select id="log-filter" onchange="filterLogs()" style="padding: 8px; border-radius: 6px; border: 2px solid #e1e5e9;">
                    <option value="all">All Logs</option>
                    <option value="info">Info</option>
                    <option value="warn">Warnings</option>
                    <option value="error">Errors</option>
                    <option value="debug">Debug</option>
                </select>
            </div>
            <div class="logs-container" id="logs-container">
                <div class="loading">
                    <div class="spinner"></div>
                    ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•...
                </div>
            </div>
        </div>
    </div>

    <script>
        // Global state
        let serverData = {};
        let charts = {};
        let autoScroll = true;
        let logsWebSocket = null;

        // Initialize dashboard
        document.addEventListener('DOMContentLoaded', function() {
            initializeDashboard();
            setupWebSocket();
            setupCharts();
            startAutoRefresh();
        });

        // Initialize dashboard
        async function initializeDashboard() {
            try {
                const response = await fetch('/admin/api/status');
                serverData = await response.json();
                updateStatsCards();
                updateServerStatus();
            } catch (error) {
                console.error('Failed to initialize dashboard:', error);
                showError('Failed to connect to server');
            }
        }

        // Setup WebSocket for real-time updates
        function setupWebSocket() {
            logsWebSocket = new WebSocket(`ws://${window.location.host}/admin/ws`);

            logsWebSocket.onopen = function() {
                console.log('Admin WebSocket connected');
                document.getElementById('server-status').textContent = '‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡πÅ‡∏•‡πâ‡∏ß';
            };

            logsWebSocket.onmessage = function(event) {
                const data = JSON.parse(event.data);
                handleWebSocketMessage(data);
            };

            logsWebSocket.onclose = function() {
                console.log('Admin WebSocket disconnected');
                document.getElementById('server-status').textContent = '‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠';
                // Attempt to reconnect after 5 seconds
                setTimeout(setupWebSocket, 5000);
            };

            logsWebSocket.onerror = function(error) {
                console.error('WebSocket error:', error);
            };
        }

        // Handle WebSocket messages
        function handleWebSocketMessage(data) {
            switch (data.type) {
                case 'metrics':
                    updateMetrics(data.metrics);
                    break;
                case 'log':
                    addLogEntry(data.log);
                    break;
                case 'status':
                    updateServerStatus(data.status);
                    break;
                case 'alert':
                    showAlert(data.message, data.level);
                    break;
            }
        }

        // Setup charts
        function setupCharts() {
            // Performance chart
            const perfCtx = document.getElementById('performance-chart').getContext('2d');
            charts.performance = new Chart(perfCtx, {
                type: 'line',
                data: {
                    labels: [],
                    datasets: [{
                        label: 'Response Time (ms)',
                        data: [],
                        borderColor: '#667eea',
                        backgroundColor: 'rgba(102, 126, 234, 0.1)',
                        tension: 0.4
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        y: { beginAtZero: true }
                    }
                }
            });

            // Connections chart
            const connCtx = document.getElementById('connections-chart').getContext('2d');
            charts.connections = new Chart(connCtx, {
                type: 'line',
                data: {
                    labels: [],
                    datasets: [{
                        label: 'Active Connections',
                        data: [],
                        borderColor: '#28a745',
                        backgroundColor: 'rgba(40, 167, 69, 0.1)',
                        tension: 0.4
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        y: { beginAtZero: true }
                    }
                }
            });

            // Cache chart
            const cacheCtx = document.getElementById('cache-chart').getContext('2d');
            charts.cache = new Chart(cacheCtx, {
                type: 'doughnut',
                data: {
                    labels: ['Hits', 'Misses'],
                    datasets: [{
                        data: [0, 0],
                        backgroundColor: ['#28a745', '#dc3545']
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false
                }
            });

            // Load balancing chart
            const lbCtx = document.getElementById('load-balancing-chart').getContext('2d');
            charts.loadBalancing = new Chart(lbCtx, {
                type: 'bar',
                data: {
                    labels: [],
                    datasets: [{
                        label: 'Backend Load',
                        data: [],
                        backgroundColor: 'rgba(255, 193, 7, 0.8)'
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        y: { beginAtZero: true }
                    }
                }
            });
        }

        // Update statistics cards
        function updateStatsCards() {
            if (!serverData.metrics) return;

            const metrics = serverData.metrics;

            document.getElementById('active-connections').textContent = metrics.activeConnections || 0;
            document.getElementById('requests-per-second').textContent = (metrics.requestsPerSecond || 0).toFixed(1);
            document.getElementById('cache-hit-rate').textContent = `${((metrics.cacheHitRate || 0) * 100).toFixed(1)}%`;
            document.getElementById('memory-usage').textContent = formatBytes(metrics.memoryUsage || 0);
            document.getElementById('error-rate').textContent = `${((metrics.errorRate || 0) * 100).toFixed(2)}%`;
            document.getElementById('avg-response-time').textContent = `${(metrics.avgResponseTime || 0).toFixed(0)}ms`;

            // Update uptime
            const uptime = serverData.uptime || 0;
            document.getElementById('uptime').textContent = `Uptime: ${formatUptime(uptime)}`;
        }

        // Update server status
        function updateServerStatus() {
            const statusElement = document.getElementById('server-status');
            const isHealthy = serverData.healthy;

            statusElement.textContent = isHealthy ? '‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏õ‡∏Å‡∏ï‡∏¥' : '‡∏°‡∏µ‡∏õ‡∏±‡∏ç‡∏´‡∏≤';

            const indicator = document.querySelector('.status-indicator');
            indicator.className = `status-indicator ${isHealthy ? 'status-healthy' : 'status-error'}`;
        }

        // Update metrics from WebSocket
        function updateMetrics(metrics) {
            serverData.metrics = { ...serverData.metrics, ...metrics };
            updateStatsCards();
            updateCharts(metrics);
        }

        // Update charts with new data
        function updateCharts(metrics) {
            const now = new Date().toLocaleTimeString();

            // Performance chart
            if (charts.performance) {
                charts.performance.data.labels.push(now);
                charts.performance.data.datasets[0].data.push(metrics.avgResponseTime || 0);

                if (charts.performance.data.labels.length > 20) {
                    charts.performance.data.labels.shift();
                    charts.performance.data.datasets[0].data.shift();
                }
                charts.performance.update('none');
            }

            // Connections chart
            if (charts.connections) {
                charts.connections.data.labels.push(now);
                charts.connections.data.datasets[0].data.push(metrics.activeConnections || 0);

                if (charts.connections.data.labels.length > 20) {
                    charts.connections.data.labels.shift();
                    charts.connections.data.datasets[0].data.shift();
                }
                charts.connections.update('none');
            }

            // Cache chart
            if (charts.cache && metrics.cacheHitRate !== undefined) {
                const hitRate = metrics.cacheHitRate;
                charts.cache.data.datasets[0].data = [hitRate * 100, (1 - hitRate) * 100];
                charts.cache.update();
            }

            // Load balancing chart
            if (charts.loadBalancing && metrics.backendStats) {
                charts.loadBalancing.data.labels = metrics.backendStats.map(b => b.id);
                charts.loadBalancing.data.datasets[0].data = metrics.backendStats.map(b => b.activeConnections);
                charts.loadBalancing.update();
            }
        }

        // Add log entry to display
        function addLogEntry(log) {
            const logsContainer = document.getElementById('logs-container');
            const logEntry = document.createElement('div');
            logEntry.className = `log-entry log-${log.level}`;

            const timestamp = new Date(log.timestamp).toLocaleTimeString('th-TH');
            logEntry.innerHTML = `[${timestamp}] <span class="log-${log.level}">${log.level.toUpperCase()}</span>: ${log.message}`;

            logsContainer.appendChild(logEntry);

            if (autoScroll) {
                logsContainer.scrollTop = logsContainer.scrollHeight;
            }

            // Keep only last 1000 entries
            while (logsContainer.children.length > 1000) {
                logsContainer.removeChild(logsContainer.firstChild);
            }
        }

        // Apply configuration changes
        async function applyConfiguration() {
            const config = {
                logLevel: document.getElementById('log-level').value,
                rateLimit: parseInt(document.getElementById('rate-limit').value),
                cacheTTL: parseInt(document.getElementById('cache-ttl').value),
                maxConnections: parseInt(document.getElementById('max-connections').value)
            };

            try {
                const response = await fetch('/admin/api/config', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(config)
                });

                if (response.ok) {
                    showAlert('Configuration applied successfully!', 'success');
                } else {
                    showAlert('Failed to apply configuration', 'error');
                }
            } catch (error) {
                console.error('Error applying configuration:', error);
                showAlert('Error applying configuration', 'error');
            }
        }

        // Refresh metrics
        async function refreshMetrics() {
            try {
                const response = await fetch('/admin/api/metrics');
                const metrics = await response.json();
                updateMetrics(metrics);
                showAlert('Metrics refreshed', 'info');
            } catch (error) {
                console.error('Error refreshing metrics:', error);
                showAlert('Error refreshing metrics', 'error');
            }
        }

        // Export metrics data
        function exportMetrics() {
            const dataStr = JSON.stringify(serverData, null, 2);
            const dataBlob = new Blob([dataStr], { type: 'application/json' });
            const url = URL.createObjectURL(dataBlob);

            const link = document.createElement('a');
            link.href = url;
            link.download = `git-memory-metrics-${new Date().toISOString()}.json`;
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
            URL.revokeObjectURL(url);

            showAlert('Metrics exported successfully', 'success');
        }

        // Restart server
        async function restartServer() {
            if (!confirm('Are you sure you want to restart the server? This will disconnect all clients.')) {
                return;
            }

            try {
                const response = await fetch('/admin/api/restart', { method: 'POST' });

                if (response.ok) {
                    showAlert('Server restart initiated', 'warning');
                } else {
                    showAlert('Failed to restart server', 'error');
                }
            } catch (error) {
                console.error('Error restarting server:', error);
                showAlert('Error restarting server', 'error');
            }
        }

        // Clear logs
        function clearLogs() {
            document.getElementById('logs-container').innerHTML = '';
        }

        // Toggle auto scroll
        function toggleAutoScroll() {
            autoScroll = !autoScroll;
            showAlert(`Auto scroll ${autoScroll ? 'enabled' : 'disabled'}`, 'info');
        }

        // Filter logs
        function filterLogs() {
            const filter = document.getElementById('log-filter').value;
            const logEntries = document.querySelectorAll('.log-entry');

            logEntries.forEach(entry => {
                const level = entry.className.split(' ').find(cls => cls.startsWith('log-')).replace('log-', '');
                if (filter === 'all' || level === filter) {
                    entry.style.display = 'block';
                } else {
                    entry.style.display = 'none';
                }
            });
        }

        // Start auto refresh
        function startAutoRefresh() {
            setInterval(async () => {
                try {
                    const response = await fetch('/admin/api/status');
                    const data = await response.json();
                    serverData = data;
                    updateStatsCards();
                } catch (error) {
                    console.error('Auto refresh error:', error);
                }
            }, 30000); // Refresh every 30 seconds
        }

        // Utility functions
        function formatBytes(bytes) {
            if (bytes === 0) return '0 B';
            const k = 1024;
            const sizes = ['B', 'KB', 'MB', 'GB'];
            const i = Math.floor(Math.log(bytes) / Math.log(k));
            return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];
        }

        function formatUptime(seconds) {
            const days = Math.floor(seconds / 86400);
            const hours = Math.floor((seconds % 86400) / 3600);
            const minutes = Math.floor((seconds % 3600) / 60);

            if (days > 0) return `${days}d ${hours}h ${minutes}m`;
            if (hours > 0) return `${hours}h ${minutes}m`;
            return `${minutes}m`;
        }

        function showAlert(message, level = 'info') {
            // Simple alert system - could be enhanced with a proper notification library
            const alertDiv = document.createElement('div');
            alertDiv.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                padding: 15px 20px;
                border-radius: 8px;
                color: white;
                font-weight: 600;
                z-index: 1000;
                animation: slideIn 0.3s ease;
            `;

            switch (level) {
                case 'success':
                    alertDiv.style.background = 'linear-gradient(135deg, #28a745, #20c997)';
                    break;
                case 'error':
                    alertDiv.style.background = 'linear-gradient(135deg, #dc3545, #e74c3c)';
                    break;
                case 'warning':
                    alertDiv.style.background = 'linear-gradient(135deg, #ffc107, #fd7e14)';
                    break;
                default:
                    alertDiv.style.background = 'linear-gradient(135deg, #17a2b8, #007bff)';
            }

            alertDiv.textContent = message;
            document.body.appendChild(alertDiv);

            setTimeout(() => {
                alertDiv.style.animation = 'slideOut 0.3s ease';
                setTimeout(() => document.body.removeChild(alertDiv), 300);
            }, 3000);
        }

        // Add CSS animations for alerts
        const style = document.createElement('style');
        style.textContent = `
            @keyframes slideIn {
                from { transform: translateX(100%); opacity: 0; }
                to { transform: translateX(0); opacity: 1; }
            }
            @keyframes slideOut {
                from { transform: translateX(0); opacity: 1; }
                to { transform: translateX(100%); opacity: 0; }
            }
        `;
        document.head.appendChild(style);
    </script>
</body>
</html>
