datasource db {
  provider = "postgresql" // หรือฐานข้อมูลอื่นๆ ที่คุณใช้
  url      = env("DATABASE_URL")
}

generator client {
  provider = "prisma-client-js"
}

// ตารางสำหรับเก็บ API Keys ของผู้ใช้
model ApiKey {
  id           String   @id @default(cuid())
  userId       String // ID ของผู้ใช้ที่ผูกกับคีย์
  service      String // ชื่อของบริการ AI เช่น "OPENAI", "GEMINI"
  encryptedKey String // API Key ที่ถูกเข้ารหัสแล้ว
  createdAt    DateTime @default(now())
  updatedAt    DateTime @updatedAt

  // ผู้ใช้หนึ่งคนสามารถมีคีย์สำหรับบริการหนึ่งๆ ได้แค่คีย์เดียว
  @@unique([userId, service])
}
