# Production Environment Configuration
# Git Memory MCP Server - Production Settings

# =============================================================================
# Application Configuration
# =============================================================================
NODE_ENV=production
PORT=3000
LOG_LEVEL=info
APP_NAME=git-memory-mcp-server
APP_VERSION=1.2.1

# =============================================================================
# Database Configuration
# =============================================================================
DATABASE_URL=file:./data/production.db
DATABASE_POOL_SIZE=10
DATABASE_TIMEOUT=30000

# =============================================================================
# Security Configuration
# =============================================================================
# JWT Secret (Generate with: openssl rand -base64 64)
JWT_SECRET=your-super-secure-jwt-secret-key-here-change-this-in-production
JWT_EXPIRES_IN=24h
JWT_REFRESH_EXPIRES_IN=7d

# Encryption Key (Generate with: openssl rand -base64 32)
ENCRYPTION_KEY=your-super-secure-encryption-key-here-change-this-in-production

# Session Configuration
SESSION_SECRET=your-super-secure-session-secret-here-change-this-in-production
SESSION_MAX_AGE=86400000

# CORS Configuration
CORS_ORIGIN=https://gitmemory.comdee.co.th
CORS_CREDENTIALS=true

# =============================================================================
# Redis Configuration
# =============================================================================
REDIS_URL=redis://redis:6379
REDIS_PASSWORD=your-redis-password-here-change-this-in-production
REDIS_DB=0
REDIS_KEY_PREFIX=gitmemory:
REDIS_TTL=3600

# =============================================================================
# Admin Configuration
# =============================================================================
ADMIN_EMAIL=admin@comdee.co.th
ADMIN_PASSWORD=your-secure-admin-password-here-change-this-in-production
ADMIN_NAME=System Administrator

# =============================================================================
# Payment Configuration (Stripe)
# =============================================================================
STRIPE_SECRET_KEY=sk_live_your-stripe-secret-key-here
STRIPE_PUBLISHABLE_KEY=pk_live_your-stripe-publishable-key-here
STRIPE_WEBHOOK_SECRET=whsec_your-stripe-webhook-secret-here
STRIPE_SUCCESS_URL=https://gitmemory.comdee.co.th/payment/success
STRIPE_CANCEL_URL=https://gitmemory.comdee.co.th/payment/cancel

# =============================================================================
# Email Configuration (SMTP)
# =============================================================================
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=noreply@comdee.co.th
SMTP_PASS=your-smtp-password-here
SMTP_FROM_NAME=Git Memory MCP Server
SMTP_FROM_EMAIL=noreply@comdee.co.th

# =============================================================================
# File Upload Configuration
# =============================================================================
UPLOAD_MAX_SIZE=10485760
UPLOAD_ALLOWED_TYPES=.txt,.md,.json,.yml,.yaml,.js,.ts,.py,.go,.java,.cpp,.c,.h
UPLOAD_PATH=./data/uploads

# =============================================================================
# Git Configuration
# =============================================================================
GIT_REPOS_PATH=./data/git-repos
GIT_MAX_REPO_SIZE=104857600
GIT_DEFAULT_BRANCH=main
GIT_COMMIT_AUTHOR_NAME=Git Memory MCP Server
GIT_COMMIT_AUTHOR_EMAIL=system@comdee.co.th

# =============================================================================
# MCP Server Configuration
# =============================================================================
MCP_MAX_SERVERS=1000
MCP_DEFAULT_SERVERS=10
MCP_SERVER_TIMEOUT=30000
MCP_HEALTH_CHECK_INTERVAL=30000
MCP_LOAD_BALANCER_ALGORITHM=round-robin

# =============================================================================
# Rate Limiting Configuration
# =============================================================================
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100
RATE_LIMIT_SKIP_SUCCESSFUL_REQUESTS=false
RATE_LIMIT_SKIP_FAILED_REQUESTS=false

# =============================================================================
# Monitoring Configuration
# =============================================================================
MONITORING_ENABLED=true
METRICS_PORT=9090
METRICS_PATH=/metrics
HEALTH_CHECK_PATH=/health
READINESS_CHECK_PATH=/ready

# Grafana Configuration
GRAFANA_ADMIN_PASSWORD=your-grafana-admin-password-here-change-this-in-production
GRAFANA_SECRET_KEY=your-grafana-secret-key-here-change-this-in-production

# =============================================================================
# Backup Configuration
# =============================================================================
BACKUP_ENABLED=true
BACKUP_PATH=./data/backups
BACKUP_RETENTION_DAYS=30
BACKUP_SCHEDULE=0 2 * * *
BACKUP_COMPRESSION=true

# =============================================================================
# SSL/TLS Configuration
# =============================================================================
SSL_ENABLED=true
SSL_CERT_PATH=/etc/nginx/ssl/gitmemory.comdee.co.th.crt
SSL_KEY_PATH=/etc/nginx/ssl/gitmemory.comdee.co.th.key
SSL_CA_PATH=/etc/nginx/ssl/ca-bundle.crt

# =============================================================================
# Domain Configuration
# =============================================================================
DOMAIN=gitmemory.comdee.co.th
BASE_URL=https://gitmemory.comdee.co.th
API_BASE_URL=https://gitmemory.comdee.co.th/api/v1

# =============================================================================
# Feature Flags
# =============================================================================
FEATURE_REGISTRATION_ENABLED=true
FEATURE_EMAIL_VERIFICATION=true
FEATURE_TWO_FACTOR_AUTH=false
FEATURE_SOCIAL_LOGIN=false
FEATURE_API_RATE_LIMITING=true
FEATURE_AUDIT_LOGGING=true
FEATURE_REAL_TIME_MONITORING=true

# =============================================================================
# Performance Configuration
# =============================================================================
CLUSTER_WORKERS=0
MAX_MEMORY_USAGE=1073741824
GC_INTERVAL=300000
KEEP_ALIVE_TIMEOUT=65000
HEADERS_TIMEOUT=66000

# =============================================================================
# Logging Configuration
# =============================================================================
LOG_FORMAT=json
LOG_MAX_SIZE=10m
LOG_MAX_FILES=5
LOG_DATE_PATTERN=YYYY-MM-DD
LOG_AUDIT_ENABLED=true
LOG_ERROR_STACK=true

# =============================================================================
# Cache Configuration
# =============================================================================
CACHE_TTL=3600
CACHE_MAX_SIZE=100
CACHE_CHECK_PERIOD=600

# =============================================================================
# Webhook Configuration
# =============================================================================
WEBHOOK_TIMEOUT=10000
WEBHOOK_RETRY_ATTEMPTS=3
WEBHOOK_RETRY_DELAY=1000